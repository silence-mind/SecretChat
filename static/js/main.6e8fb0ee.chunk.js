(this["webpackJsonpsecret-chat"]=this["webpackJsonpsecret-chat"]||[]).push([[0],{137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(43),o=a.n(c),i=(a(86),a(44)),s=a(13),l=a(14),u=a(45),m=a(34),p=Object(u.a)({apiKey:"AIzaSyAe9AVxD06jDm41KxmUGs3TVUZM3CWQhS4",authDomain:"secret-chat-f74a7.firebaseapp.com",projectId:"secret-chat-f74a7",storageBucket:"secret-chat-f74a7.appspot.com",messagingSenderId:"760328453741",appId:"1:760328453741:web:89b96c932b6286eb2ec964"}),g=Object(m.b)(p),h=r.a.createContext();function b(e){var t=e.children,a=Object(n.useState)(!0),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(),m=Object(l.a)(u,2),p=m[0],b=m[1],f=Object(s.f)();Object(n.useEffect)((function(){g.onAuthStateChanged((function(e){b(e),i(!1),f.push("/chats")}))}),[p,f]);var d={user:p};return r.a.createElement(h.Provider,{value:d},!o&&t)}var f,d,_=a(1),E=a.n(_),v=a(2),j=a(38),O=a.n(j),x=a(11),y=a.n(x),w=a(78),S=function(){var e=Object(n.useRef)(!1),t=Object(n.useState)(!0),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useContext)(h).user,u=Object(s.f)(),m=function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.signOut();case 2:u.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function p(){return(p=Object(v.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.blob();case 5:return n=e.sent,e.abrupt("return",new File([n],"test.jpg",{type:"image/jpeg"}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(!e.current){if(e.current=!0,!i||null===i)return void u.push("/");y.a.get("https://api.chatengine.io/users/me",{headers:{"project-id":"55c67436-0bcc-4444-a687-83c3d7655597","user-name":i.email,"user-secret":i.uid}}).then((function(){return o(!1)})).catch((function(e){var t=new FormData;t.append("email",i.email),t.append("username",i.email),t.append("secret",i.uid),function(e){return p.apply(this,arguments)}(i.photoURL).then((function(e){t.append("avatar",e,e.name),y.a.post("https://api.chatengine.io/users/me",t,{headers:{"private-key":"b332102b-3366-45a1-a1e9-5dda0948ba1f"}}).then((function(){return o(!1)})).catch((function(e){return console.log("e",e.response)}))}))}))}}),[i,u]),!i||c?r.a.createElement("div",null):r.a.createElement("div",{className:O.a.chatspage},r.a.createElement("div",{className:O.a.navbar},r.a.createElement("div",{className:O.a.logotab},"Secret-Chat"),r.a.createElement("div",{className:O.a.logout,onClick:m},"Logout")),r.a.createElement(w.d,{height:"calc(100vh - 66px)",projectID:"55c67436-0bcc-4444-a687-83c3d7655597",userName:i.email,userSecret:i.uid}))},L=a(139),N=a(25),C=a.n(N),k=a(57),I=a(58),A=Object(I.b)(f||(f=Object(k.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),D=I.a.div(d||(d=Object(k.a)(["\n  border: 4px solid rgba(0, 0, 0, 0.1);\n  border-top: 4px solid #3498db;\n  border-radius: 50%;\n  width: 25px;\n  height: 20px;\n  poision: absoulot;\n  top: 0;\n  right: 0;\n  animation: "," 1s linear infinite;\n  margin: 20px auto;\n"])),A),P=function(){return r.a.createElement(D,null)},U=Object(u.a)({apiKey:"AIzaSyAe9AVxD06jDm41KxmUGs3TVUZM3CWQhS4",authDomain:"secret-chat-f74a7.firebaseapp.com",projectId:"secret-chat-f74a7",storageBucket:"secret-chat-f74a7.appspot.com",messagingSenderId:"760328453741",appId:"1:760328453741:web:89b96c932b6286eb2ec964"}),R=Object(m.b)(U),F=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(!0),e.prev=2,e.next=5,new Promise((function(e){return setTimeout(e,2e3)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,e.next=13,Object(m.c)(R,new m.a);case 13:return c(!1),e.finish(10);case 15:case"end":return e.stop()}}),e,null,[[2,7,10,15]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:C.a.container},r.a.createElement("div",{className:C.a.container},r.a.createElement("div",{className:C.a.glowing},r.a.createElement("span",{style:{"--i":1}}),r.a.createElement("span",{style:{"--i":2}}),r.a.createElement("span",{style:{"--i":3}})),r.a.createElement("div",{className:C.a.glowing},r.a.createElement("span",{style:{"--i":1}}),r.a.createElement("span",{style:{"--i":2}}),r.a.createElement("span",{style:{"--i":3}})),r.a.createElement("div",{className:C.a.glowing},r.a.createElement("span",{style:{"--i":1}}),r.a.createElement("span",{style:{"--i":2}}),r.a.createElement("span",{style:{"--i":3}})),r.a.createElement("h1",{className:C.a.h1},"Welcome to Secret Chat"),r.a.createElement("div",{className:C.a.loginPage},r.a.createElement("div",{className:C.a.Logincard},r.a.createElement("form",{className:C.a.form},r.a.createElement("h3",null,"Enter Your name OR Sign In With Google"),r.a.createElement("div",{className:C.a.email},r.a.createElement("input",{type:"email",placeholder:"Enter Your Email"}),r.a.createElement("button",{onClick:o,type:"submit"},"Submit")),r.a.createElement("div",{className:C.a.login_button_google,onClick:o},r.a.createElement(L.a,null)," Sign In with Google"))))),a&&r.a.createElement(P,null))};var V=function(){return r.a.createElement("div",{style:{fontFamily:"Avenir"}},r.a.createElement(i.a,{basename:"/tothepoint_login"},r.a.createElement(b,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/chats",component:S}),r.a.createElement(s.a,{path:"/",component:F})))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root"))},25:function(e,t,a){e.exports={container:"Login_container__3RLPl",loginPage:"Login_loginPage__3EkPZ",Logincard:"Login_Logincard__3AHzF",h1:"Login_h1__ZE0DE",form:"Login_form__3Vo6N",email:"Login_email__2SwyZ",login_button_google:"Login_login_button_google__5eF9R",glowing:"Login_glowing__2h3wu",colorChange:"Login_colorChange__3iQ2q",animate:"Login_animate__3MmRp","animate-reverse":"Login_animate-reverse__2YXfJ"}},38:function(e,t,a){e.exports={chatspage:"Chats_chatspage__36U2S",navbar:"Chats_navbar__3-Qii",logotab:"Chats_logotab__1AAU1",logout:"Chats_logout__3LTx2"}},81:function(e,t,a){e.exports=a(137)},86:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.6e8fb0ee.chunk.js.map