{"version":3,"sources":["firebase.js","contexts/AuthContext.js","components/Chats/Chats.js","components/Loading/Loading.js","components/Login/Login.js","components/App.js","index.js","components/Login/Login.module.css","components/Chats/Chats.module.css"],"names":["firebaseApp","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","AuthContext","React","createContext","AuthProvider","children","useState","loading","setLoading","user","setUser","history","useHistory","useEffect","onAuthStateChanged","push","value","Provider","Chats","didMountRef","useRef","useContext","handleLogout","a","signOut","url","fetch","response","blob","data","File","type","current","axios","get","headers","email","uid","then","catch","e","formdata","FormData","append","getFile","photoURL","avatar","name","post","console","log","className","classes","chatspage","navbar","logotab","logout","onClick","height","projectID","userName","userSecret","rotate","keyframes","Spinner","styled","div","Loading","Login","isLoading","setIsLoading","submitHandler","preventDefault","Promise","resolve","setTimeout","error","signInWithRedirect","GoogleAuthProvider","container","glowing","style","h1","loginPage","Logincard","form","placeholder","login_button_google","GoogleOutlined","App","fontFamily","basename","path","component","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.6e8fb0ee.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAe9AVxD06jDm41KxmUGs3TVUZM3CWQhS4\",\n  authDomain: \"secret-chat-f74a7.firebaseapp.com\",\n  projectId: \"secret-chat-f74a7\",\n  storageBucket: \"secret-chat-f74a7.appspot.com\",\n  messagingSenderId: \"760328453741\",\n  appId: \"1:760328453741:web:89b96c932b6286eb2ec964\",\n};\n\nconst firebaseApp = initializeApp(firebaseConfig);\nconst auth = getAuth(firebaseApp);\n\nexport default auth;\n","import React, { useContext, useState, useEffect } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport auth from \"../firebase\";\n\nconst AuthContext = React.createContext();\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\nexport function AuthProvider({ children }) {\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState();\n  const history = useHistory();\n\n  useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      setUser(user);\n      setLoading(false);\n      history.push(\"/chats\");\n    });\n  }, [user, history]);\n\n  const value = { user };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n}\n","import classes from \"./Chats.module.css\";\nimport React, { useRef, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { ChatEngine } from \"react-chat-engine\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport auth from \"../../firebase\";\n\nconst Chats = () => {\n  const didMountRef = useRef(false);\n  const [loading, setLoading] = useState(true);\n  const { user } = useAuth();\n  const history = useHistory();\n\n  const handleLogout = async () => {\n    await auth.signOut();\n    history.push(\"/\");\n  };\n\n  async function getFile(url) {\n    let response = await fetch(url);\n    let data = await response.blob();\n    return new File([data], \"test.jpg\", { type: \"image/jpeg\" });\n  }\n\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n\n      if (!user || user === null) {\n        history.push(\"/\");\n        return;\n      }\n\n      axios\n        .get(\"https://api.chatengine.io/users/me\", {\n          headers: {\n            \"project-id\": \"55c67436-0bcc-4444-a687-83c3d7655597\",\n            \"user-name\": user.email,\n            \"user-secret\": user.uid,\n          },\n        })\n\n        .then(() => setLoading(false))\n\n        .catch((e) => {\n          let formdata = new FormData();\n          formdata.append(\"email\", user.email);\n          formdata.append(\"username\", user.email);\n          formdata.append(\"secret\", user.uid);\n\n          getFile(user.photoURL).then((avatar) => {\n            formdata.append(\"avatar\", avatar, avatar.name);\n\n            axios\n              .post(\"https://api.chatengine.io/users/me\", formdata, {\n                headers: {\n                  \"private-key\": \"b332102b-3366-45a1-a1e9-5dda0948ba1f\",\n                },\n              })\n              .then(() => setLoading(false))\n              .catch((e) => console.log(\"e\", e.response));\n          });\n        });\n      // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    }\n  }, [user, history]);\n\n  if (!user || loading) return <div />;\n\n  return (\n    <div className={classes.chatspage}>\n      <div className={classes.navbar}>\n        <div className={classes.logotab}>Secret-Chat</div>\n\n        <div className={classes.logout} onClick={handleLogout}>\n          Logout\n        </div>\n      </div>\n\n      <ChatEngine\n        height=\"calc(100vh - 66px)\"\n        projectID=\"55c67436-0bcc-4444-a687-83c3d7655597\"\n        userName={user.email}\n        userSecret={user.uid}\n      />\n    </div>\n  );\n};\nexport default Chats;\n","import React from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\n\r\n// Create a keyframe animation\r\nconst rotate = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\nconst Spinner = styled.div`\r\n  border: 4px solid rgba(0, 0, 0, 0.1);\r\n  border-top: 4px solid #3498db;\r\n  border-radius: 50%;\r\n  width: 25px;\r\n  height: 20px;\r\n  poision: absoulot;\r\n  top: 0;\r\n  right: 0;\r\n  animation: ${rotate} 1s linear infinite;\r\n  margin: 20px auto;\r\n`;\r\n\r\nconst Loading = () => {\r\n  return <Spinner />;\r\n};\r\n\r\nexport default Loading;\r\n","import { GoogleOutlined } from \"@ant-design/icons\";\nimport { getAuth, GoogleAuthProvider, signInWithRedirect } from \"firebase/auth\";\nimport { initializeApp } from \"firebase/app\";\nimport classes from \"./Login.module.css\";\nimport React, { useState } from \"react\";\nimport Loading from \"../Loading/Loading\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAe9AVxD06jDm41KxmUGs3TVUZM3CWQhS4\",\n  authDomain: \"secret-chat-f74a7.firebaseapp.com\",\n  projectId: \"secret-chat-f74a7\",\n  storageBucket: \"secret-chat-f74a7.appspot.com\",\n  messagingSenderId: \"760328453741\",\n  appId: \"1:760328453741:web:89b96c932b6286eb2ec964\",\n};\n\nconst firebaseApp = initializeApp(firebaseConfig);\nconst auth = getAuth(firebaseApp);\n\nconst Login = () => {\n  const [isLoading, setIsLoading] = useState(false);\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    try {\n      await new Promise((resolve) => setTimeout(resolve, 2000));\n    } catch (error) {\n      console.error(error);\n    } finally {\n      await signInWithRedirect(auth, new GoogleAuthProvider());\n      setIsLoading(false);\n    }\n  };\n  return (\n    <div className={classes.container}>\n      <div className={classes.container}>\n        <div className={classes.glowing}>\n          <span style={{ \"--i\": 1 }}></span>\n          <span style={{ \"--i\": 2 }}></span>\n          <span style={{ \"--i\": 3 }}></span>\n        </div>\n\n        <div className={classes.glowing}>\n          <span style={{ \"--i\": 1 }}></span>\n          <span style={{ \"--i\": 2 }}></span>\n          <span style={{ \"--i\": 3 }}></span>\n        </div>\n\n        <div className={classes.glowing}>\n          <span style={{ \"--i\": 1 }}></span>\n          <span style={{ \"--i\": 2 }}></span>\n          <span style={{ \"--i\": 3 }}></span>\n        </div>\n\n        <h1 className={classes.h1}>Welcome to Secret Chat</h1>\n        <div className={classes.loginPage}>\n          <div className={classes.Logincard}>\n            <form className={classes.form}>\n              <h3>Enter Your name OR Sign In With Google</h3>\n              <div className={classes.email}>\n                <input type=\"email\" placeholder=\"Enter Your Email\" />\n                <button onClick={submitHandler} type=\"submit\">\n                  Submit\n                </button>\n              </div>\n              <div\n                className={classes.login_button_google}\n                onClick={submitHandler}\n              >\n                <GoogleOutlined /> Sign In with Google\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n      {isLoading && <Loading />}\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport { AuthProvider } from \"../contexts/AuthContext\";\n\nimport Chats from \"./Chats/Chats\";\nimport Login from \"./Login/Login\";\n\nfunction App() {\n  return (\n    <div style={{ fontFamily: \"Avenir\" }}>\n      <Router basename=\"/tothepoint_login\">\n        <AuthProvider>\n          <Switch>\n            <Route path=\"/chats\" component={Chats} />\n            <Route path=\"/\" component={Login} />\n          </Switch>\n        </AuthProvider>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__3RLPl\",\"loginPage\":\"Login_loginPage__3EkPZ\",\"Logincard\":\"Login_Logincard__3AHzF\",\"h1\":\"Login_h1__ZE0DE\",\"form\":\"Login_form__3Vo6N\",\"email\":\"Login_email__2SwyZ\",\"login_button_google\":\"Login_login_button_google__5eF9R\",\"glowing\":\"Login_glowing__2h3wu\",\"colorChange\":\"Login_colorChange__3iQ2q\",\"animate\":\"Login_animate__3MmRp\",\"animate-reverse\":\"Login_animate-reverse__2YXfJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatspage\":\"Chats_chatspage__36U2S\",\"navbar\":\"Chats_navbar__3-Qii\",\"logotab\":\"Chats_logotab__1AAU1\",\"logout\":\"Chats_logout__3LTx2\"};"],"sourceRoot":""}